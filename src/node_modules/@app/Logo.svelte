<script>
	import {onMount} from 'svelte';
	import {spring} from 'svelte/motion';
	import Heart from './Heart.svelte';

	const scale = spring(0, {
		stiffness: 0.04,
		damping: 0.07,
		precision: 0.00025,
	});

	onMount(() => {
		$scale = 1; // trying to fix jank on phone by putting this in `onMount`
	});
</script>

<div class="wrapper">
	<div style="transform: scale3d({$scale}, {$scale}, 1)">
		<div class="heart-pulse">
			<Heart />
		</div>
	</div>
	<h1>felt</h1>
</div>

<style>
	.wrapper {
		position: relative;
		text-align: center;
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	h1 {
		position: absolute;
		left: 0;
		top: 38px;
		width: 100%;
		text-align: center;
		color: #fff;
	}

	.heart-pulse {
		animation: pulse 4s ease-in-out infinite;
		animation-delay: 2.5s;
	}

	@keyframes pulse {
		0% {
			transform: scale3d(1, 1, 1);
		}
		50% {
			transform: scale3d(1.11, 1.11, 1);
		}
		100% {
			transform: scale3d(1, 1, 1);
		}
	}
</style>
